let buy=document.querySelectorAll(".popup-item-buy");const modalCart=document.querySelector(".modal-cart"),closerCart=document.querySelector(".close-cart");buy.forEach(e=>{e.addEventListener("click",()=>{modalCart.classList.add("modal-cart-show")})}),closerCart.addEventListener("click",function(e){e.preventDefault(),modalCart.classList.remove("modal-cart-show")}),window.addEventListener("keydown",function(e){27===e.keyCode&&modalCart.classList.contains("modal-cart-show")&&(e.preventDefault(),modalCart.classList.remove("modal-cart-show"))});const linkMap=document.querySelector(".map"),map=document.querySelector(".map-popup"),closerMap=document.querySelector(".close-map");linkMap.addEventListener("click",function(e){e.preventDefault(),map.classList.add("map-show")}),closerMap.addEventListener("click",function(e){e.preventDefault(),map.classList.remove("map-show")}),window.addEventListener("keydown",function(e){27===e.keyCode&&map.classList.contains("map-show")&&(e.preventDefault(),map.classList.remove("map-show"))});let sliderIndex=1;const buttons=document.querySelectorAll(".service-btn"),items=document.querySelectorAll(".services-promo-item");viewItems(sliderIndex);for(let e=0;e<buttons.length;++e)buttons[e].onclick=function(){for(let e=0;e<buttons.length;++e)buttons[e].classList.remove("current");for(let e=0;e<items.length;++e)items[e].classList.remove("services-promo-current");buttons[e].classList.add("current"),items[e].classList.add("services-promo-current")};function plusItems(e){viewItems(sliderIndex+=e)}function currentSlide(e){viewItems(sliderIndex=e)}function viewItems(e){for(e>items.length&&(sliderIndex=1),e<1&&(sliderIndex=items.length),i=0;i<items.length;++i)items[i].classList.remove("services-promo-current");for(i=0;i<buttons.length;++i)buttons[i].classList.remove("current");items[sliderIndex-1].classList.add("services-promo-current"),buttons[sliderIndex-1].classList.add("current")}let slideIndex=2;const btnPrev=document.querySelector(".controls-arrow-left"),btnNext=document.querySelector(".controls-arrow-right"),indicators=document.querySelectorAll(".slider-controls button"),slides=document.querySelectorAll(".slider-item");showSlides(slideIndex),btnPrev.onclick=(()=>{plusSlides(-1)}),btnNext.onclick=(()=>{plusSlides(1)});for(let e=0;e<indicators.length;e++)indicators[e].onclick=function(){for(let e=0;e<indicators.length;e++)indicators[e].classList.remove("current");for(let e=0;e<slides.length;e++)slides[e].classList.remove("slide-current");indicators[e].classList.add("current"),slides[e].classList.add("slide-current")};function plusSlides(e){showSlides(slideIndex+=e)}function currentSlide(e){showSlides(slideIndex=e)}function showSlides(e){e>slides.length&&(slideIndex=1),e<1&&(slideIndex=slides.length);for(let e=0;e<slides.length;e++)slides[e].classList.remove("slide-current");for(let e=0;e<indicators.length;e++)indicators[e].classList.remove("current");slides[slideIndex-1].classList.add("slide-current"),indicators[slideIndex-1].classList.add("current")}const link=document.querySelector(".contacts-btn"),popup=document.querySelector(".modal-feedback"),closer=document.querySelector(".close-cross"),login=popup.querySelector("[name=popup-name]"),email=popup.querySelector("[name=popup-mail]"),form=popup.querySelector("form");let isStorageSupport=!0,storage="";try{storage=localStorage.getItem("login")}catch(e){isStorageSupport=!1}link.addEventListener("click",function(e){e.preventDefault(),popup.classList.add("modal-show"),storage?(login.value=storage,email.focus()):login.focus()}),closer.addEventListener("click",function(e){e.preventDefault(),popup.classList.remove("modal-show"),popup.classList.remove("modal-error")}),form.addEventListener("submit",function(e){login.value&&email.value?isStorageSupport&&localStorage.setItem("login",login.value):(e.preventDefault(),popup.classList.remove("modal-error"),popup.offsetWidth=popup.offsetWidth,popup.classList.add("modal-error"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&popup.classList.contains("modal-show")&&(e.preventDefault(),popup.classList.remove("modal-show"),popup.classList.remove("modal-error"))});
